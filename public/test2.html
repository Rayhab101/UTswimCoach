<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BL/SJ Swim Team- Home</title>
    <link rel="stylesheet" href="swim.css">
    <script src="https://code.jquery.com/jquery-3.3.1.js"
        integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous">
        </script>
    <script>
        $(function () {
            $("#header").load("heading.html");
            $("#footer").load("footing.html");
        });

    </script>
    <style>
        .jayhawk {
            padding-top: 20px;
            width: 90%;
            height: 90%;
            object-fit: contain;
            grid-row: 2;
            grid-column: 1;
        }

        .pic {
            width: 100%;
            height: 100%;
            object-fit: contain;
            grid-row: 2;
            grid-column: 2;
        }

        .container1 {
            /* height: 100%;
            width: 100%; */
            display: grid;
            padding-left: 50px;
            padding-right: 90px;
        }

        .welcome {
            /* padding-top: 100px; */
            color: white;
            font-size: larger;
            background-color: transparent;
            text-align: center;
        }

        @media only screen and (max-width: 700px) {
            .container1 {
                height: 100%;
                width: 100%;
                padding-left: auto;
            }

            body {
                height: 50%;
                width: 50%;
            }

            /* .jayhawk {
                padding-top: 20px;
                width: 50%;
                height: 50%;
                grid-row: 3;
                grid-column: 1;
            }

            .pic {
                width: 50%;
                height: 50%;
                object-fit: contain;
                grid-row: 2;
                grid-column: 1;
            } */
        }

        .team-picture {
            grid-row: 1;
            grid-column: 2;
        }

        .schedule {
            background-color: whitesmoke;
            text-align: center;
            grid-row: 1 / 2;
            grid-column: 1;
        }

        body {
            height: 85%;
            width: 100%;
        }
    </style>
</head>
<header id="header"></header>

<body onload="meets()">

    <div class="welcome">
        <h3>Welcome to the Ben Lomond and Saint Joseph Swim Team Web Page</h3>
    </div>
    <div class="container1">
        <div class="schedule">
            <table id="teamSchedule">
                <tr>
                    <th colspan="6"><u>2021-2022 Swim Schedule</u></th>
                </tr>
                <tr><strong>
                        <td>Date/Day</td>
                        <td>Event</td>
                        <td>Time</td>
                        <td>Out</td>
                        <td>Bus</td>
                        <td>Home</td>
                    </strong></tr>
                    <tr><strong>
                        <td>9/13/2021</td>
                        <td>Swim Meeting @The Pool</td>
                        <td>3:00 PM</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </strong></tr>
                    <tr><strong>
                        <td>9/20/2021</td>
                        <td>First Day of Practice</td>
                        <td>2:45 PM</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </strong></tr>
                    <tr><strong>
                        <td>9/22/2021</td>
                        <td>Parents Meeting @The Pool</td>
                        <td>6:00 PM</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </strong></tr>
                    <tr><strong>
                        <td>10/22/2021</td>
                        <td>Red and Blue Meet</td>
                        <td>2:30 PM</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </strong></tr>
            </table>
        </div>
        <div class="team-picture">
            <img class="pic" src="Full_team_picture.png" alt="Team Picture">
        </div>
    </div>

</body>
<footer id="footer"></footer>
<script>
    function meets() {
        fetch("/api/meets").then(function (resMeets) {
            return resMeets.json();
        })
            .then(function (meets) {

                console.log(meets[1].year);
                if (meets[1].year == 2) {
                    var body = document.getElementById("teamSchedule");

                    for (var j = 1; j < meets.length; j++) {
                        var row = document.createElement("tr");
                        var column = document.createElement("td");
                        var cell = row.insertCell();
                        var text = document.createTextNode(column.innerHTML = meets[j].date);
                        cell.appendChild(text);
                        var cell = row.insertCell();
                        var text = document.createTextNode(column.innerHTML = meets[j].location);
                        cell.appendChild(text);
                        var cell = row.insertCell();
                        var text = document.createTextNode(column.innerHTML = meets[j].time);
                        cell.appendChild(text);
                        var cell = row.insertCell();

                        // console.log(meets[j].out == null)
                        if (meets[j].out == null) {
                            var text = document.createTextNode(column.innerHTML = "");
                        }
                        else {
                            var text = document.createTextNode(column.innerHTML = meets[j].out);
                        }

                        cell.appendChild(text);
                        var cell = row.insertCell();
                        if (meets[j].bus == null) {
                            var text = document.createTextNode(column.innerHTML = "");
                        }
                        else {
                            var text = document.createTextNode(column.innerHTML = meets[j].bus);
                        }

                        cell.appendChild(text);
                        var cell = row.insertCell();
                        if (meets[j].home == null) {
                            var text = document.createTextNode(column.innerHTML = "");
                        }
                        else {
                            var text = document.createTextNode(column.innerHTML = meets[j].home);
                        }

                        cell.appendChild(text);
                        body.appendChild(row);
                    }
                }

            })
            .catch(function (error) {
                console.log("Error: " + error);
            });
    }
</script>

</html>